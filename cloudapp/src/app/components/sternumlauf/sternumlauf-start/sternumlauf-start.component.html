<mat-dialog-content>
  <h3 translate>Translate.components.sternumlaufStart.header</h3>

  <div *ngIf="!isUmlaufStarted">
    <button mat-flat-button color="primary" (click)="startSternumlauf()">
      {{ "Translate.shared.button.start" | translate }}
    </button>
  </div>

  <div *ngIf="loading">
    <div class="sternumlauf-process">
      <mat-icon *ngIf="processed != totalProgress" class="loading"
        >hourglass_bottom</mat-icon
      >
      <mat-icon *ngIf="processed == totalProgress" class="check"
        >check</mat-icon
      >
      <div>
        <span translate
          >Translate.components.sternumlaufStart.process.requests</span
        >
        <span>{{ processed }} / {{ totalProgress }}</span>
      </div>
    </div>

    <div class="sternumlauf-process">
      <mat-icon *ngIf="runCheckRequests == 'loading'" class="loading"
        >hourglass_bottom</mat-icon
      >
      <mat-icon *ngIf="runCheckRequests == 'check'" class="check"
        >check</mat-icon
      >
      <mat-icon *ngIf="runCheckRequests == 'block'" class="block"
        >block</mat-icon
      >
      <div translate>Translate.components.sternumlaufStart.process.check</div>
    </div>

    <div class="sternumlauf-process">
      <mat-icon *ngIf="runScanIn == 'loading'" class="loading"
        >hourglass_bottom</mat-icon
      >
      <mat-icon *ngIf="runScanIn == 'check'" class="check">check</mat-icon>
      <mat-icon *ngIf="runScanIn == 'block'" class="block">block</mat-icon>
      <div translate>Translate.components.sternumlaufStart.process.scanIn</div>
    </div>

    <div class="sternumlauf-process">
      <mat-icon *ngIf="runLoan == 'loading'" class="loading"
        >hourglass_bottom</mat-icon
      >
      <mat-icon *ngIf="runLoan == 'check'" class="check">check</mat-icon>
      <mat-icon *ngIf="runLoan == 'block'" class="block">block</mat-icon>
      <div translate>Translate.components.sternumlaufStart.process.loan</div>
    </div>
  </div>

  <div *ngIf="finalResult">
    <app-alert [type]="finalResult.type">{{ finalResult.message }}</app-alert>
  </div>

  <br />
  <mat-divider></mat-divider>

  <mat-dialog-actions align="end">
    <button mat-button [disabled]="loading" mat-dialog-close>
      {{ "Translate.shared.button.back" | translate }}
    </button>
  </mat-dialog-actions>
</mat-dialog-content>
