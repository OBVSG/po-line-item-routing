<div>
  <button mat-button type="button" color="primary" routerLink="/">
    back to Home
  </button>
</div>

<mat-divider></mat-divider>
<br />

<div class="loading-shade" *ngIf="saving">
  <mat-progress-spinner
    mode="indeterminate"
    diameter="50"
  ></mat-progress-spinner>
</div>

<div *ngIf="settingsForm">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Item Policy</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div>
        <mat-list role="list">
          <div *ngFor="let policy of itemPolicy" class="flex-row">
            <mat-list-item role="listitem">{{ policy }}</mat-list-item>

            <button
              class="warn-button"
              mat-flat-button
              type="button"
              color="primary"
              (click)="removeItemPolicy(policy)"
            >
              remove
            </button>
          </div>
        </mat-list>
      </div>

      <mat-form-field>
        <mat-label>Add Policy:</mat-label>
        <input matInput type="text" #newPolicy />
      </mat-form-field>

      <mat-card-actions>
        <button
          mat-flat-button
          type="button"
          color="primary"
          (click)="addItemPolicy(newPolicy)"
          [disabled]="newPolicy.value === ''"
        >
          add item
        </button>
      </mat-card-actions>
    </mat-card-content>
  </mat-card>

  <br />

  <form [formGroup]="settingsForm">
    <!-- TODO: div is necessary? -->
    <div formGroupName="sternumlauf">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Sternumlauf Configuration</mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <mat-form-field>
            <mat-label>Location Type:</mat-label>
            <input matInput type="text" formControlName="locationType" />
          </mat-form-field>

          <br />

          <mat-form-field>
            <mat-label>Location Library:</mat-label>
            <input matInput type="text" formControlName="locationLibrary" />
          </mat-form-field>

          <br />

          <mat-form-field>
            <mat-label>Location Circulation Desk:</mat-label>
            <input
              matInput
              type="text"
              formControlName="locationCirculationDesk"
            />
          </mat-form-field>
        </mat-card-content>
      </mat-card>
    </div>

    <br />

    <!-- TODO: div is necessary? -->
    <div formGroupName="information">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Absender Informationen</mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <mat-form-field>
            <mat-label>Title:</mat-label>
            <input matInput type="text" formControlName="title" />
          </mat-form-field>

          <br />

          <mat-form-field>
            <mat-label> Subtitle: </mat-label>
            <input matInput type="text" formControlName="subtitle" />
          </mat-form-field>

          <br />

          <mat-form-field>
            <mat-label> Address: </mat-label>
            <input matInput type="text" formControlName="address" />
          </mat-form-field>

          <br />

          <mat-form-field>
            <mat-label> Phone: </mat-label>
            <input matInput type="text" formControlName="phone" />
          </mat-form-field>

          <br />

          <mat-form-field>
            <mat-label> Email: </mat-label>
            <input matInput type="text" formControlName="email" />
          </mat-form-field>

          <br />

          <mat-form-field>
            <mat-label> Website: </mat-label>
            <input matInput type="text" formControlName="website" />
          </mat-form-field>

          <br />

          <mat-form-field>
            <mat-label> DVR: </mat-label>
            <input matInput type="text" formControlName="dvr" />
          </mat-form-field>

          <br />
        </mat-card-content>
      </mat-card>
    </div>
  </form>
</div>

<br />

<div>
  <button
    mat-flat-button
    #saveSettingsButton
    type="button"
    color="primary"
    (click)="save()"
    [disabled]="itemPolicy.length === 0"
  >
    Save
  </button>
  <!-- TODO: style this -->
  <span *ngIf="saveSettingsButton?.disabled"
    >item policy list can NOT be empty</span
  >
</div>
